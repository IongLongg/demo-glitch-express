extends ../layout

block content
    .container.pt-5
        h1 Books
        if errors
            each error in errors
                .alert.alert-danger= error

        form.form-inline(action='/books/search', method='get')
            input.form-control.mr-2(type='text', name='title', value=(inputSearch ? inputSearch : ''), placeholder='Search book')
            input.btn.btn-primary.mr-2(type='submit', value='Search')
            a.btn.btn-success(href='books/create') Add
        br
        table.table.text-center(style='width:100%')
          tr
            th
            th Title
            th Description
            th(colspan="2") Action
          - var i=1;
          each book in books
            tr
              td= i++
              td=book.title
              td=book.description
              td
                a.btn.btn-outline-primary(href=`/books/${book.id}/update`) Update
              td
                a.btn.btn-outline-danger(href=`/books/${book.id}/delete`) Delete
        nav(aria-label='Page navigation example')
          ul.pagination
            li.page-item
              a.page-link(href=`books?page=${page<=1 ? 1 : page-1}`) Previous
            li.page-item
              a.page-link(href=`books?page=${page<=1 ? 1 : page-1}`)=page<=1 ? 1 : page-1
            li.page-item
              a.page-link(href=`books?page=${page === 1 ? 2 : page}`)=page === 1 ? 2 : page
            li.page-item
              a.page-link(href=`books?page=${page === 1 ? 3 : page+1}`)=page === 1 ? 3 : page+1
            li.page-item
              a.page-link(href=`books?page=${page+1}`) Next


